<!DOCTYPE html><html lang="ko" dir="ltr"><head><meta charset="utf-8"><style>:where(img){height:auto}</style>  <meta name="viewport" content="width=device-width,initial-scale=1"> <meta name="referrer" content="origin-when-cross-origin"> <meta name="format-detection" content="telephone=no, address=no"> <meta http-equiv="x-ua-compatible" content="ie=edge"> <link rel="icon" type="image/svg+xml" sizes="any" href="/favicon/any.svg"> <link rel="icon" type="image/png" sizes="16x16" href="/favicon/16.png"> <link rel="icon" type="image/png" sizes="32x32" href="/favicon/32.png"> <link rel="icon" type="image/png" sizes="96x96" href="/favicon/96.png"> <link rel="icon" type="image/png" sizes="180x180" href="/favicon/180.png"> <link rel="apple-touch-icon" sizes="180x180" href="/favicon/180.png"> <link rel="apple-touch-icon" sizes="57x57" href="/favicon/57.png"> <link rel="apple-touch-icon" sizes="60x60" href="/favicon/60.png"> <link rel="apple-touch-icon" sizes="72x72" href="/favicon/72.png"> <link rel="apple-touch-icon" sizes="76x76" href="/favicon/76.png"> <link rel="apple-touch-icon" sizes="114x114" href="/favicon/114.png"> <link rel="apple-touch-icon" sizes="120x120" href="/favicon/120.png"> <link rel="apple-touch-icon" sizes="144x144" href="/favicon/144.png"> <link rel="apple-touch-icon" sizes="152x152" href="/favicon/152.png"> <link rel="apple-touch-icon" sizes="180x180" href="/favicon/180.png"> <meta name="msapplication-square70x70logo" content="/favicon/70.png"> <meta name="msapplication-TileImage" content="/favicon/144.png"> <meta name="msapplication-square150x150logo" content="/favicon/150.png"> <meta name="msapplication-square310x310logo" content="/favicon/310.png"> <link rel="sitemap" type="application/xml" href="/sitemap.xml"> <link rel="alternate" type="application/rss+xml" href="/rss.xml"> <link rel="alternate" type="application/atom+xml" href="/atom.xml"> <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-NNGC41131C"></script> <script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-NNGC41131C")</script> <script>document.documentElement.dataset.theme=localStorage.getItem("color-scheme")||(window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")</script> <link href="/_app/immutable/assets/0.BJZ3lrIf.css" rel="stylesheet"> <link rel="modulepreload" href="/_app/immutable/entry/start.DIS2B-qI.js"> <link rel="modulepreload" href="/_app/immutable/chunks/entry.CvntsCbD.js"> <link rel="modulepreload" href="/_app/immutable/chunks/scheduler.tNaupYda.js"> <link rel="modulepreload" href="/_app/immutable/entry/app.BeorjYF_.js"> <link rel="modulepreload" href="/_app/immutable/chunks/preload-helper.PNuX44LO.js"> <link rel="modulepreload" href="/_app/immutable/chunks/index.QViIPcpX.js"> <link rel="modulepreload" href="/_app/immutable/nodes/0.CWWR_vH2.js"> <link rel="modulepreload" href="/_app/immutable/chunks/clsx.B-dksMZM.js"> <link rel="modulepreload" href="/_app/immutable/chunks/each.D6YF6ztN.js"> <link rel="modulepreload" href="/_app/immutable/chunks/theme.DT_Prusw.js"> <link rel="modulepreload" href="/_app/immutable/chunks/stores.C1yDDIK5.js"> <link rel="modulepreload" href="/_app/immutable/nodes/6.BHXeKvx8.js"> <link rel="modulepreload" href="/_app/immutable/chunks/MetaTags.G__YhRv8.js"><title>📝 KDT : 04월 11일자 수업 정리 - 현재는개발중</title><meta name="description" content="오늘은 오라클 SQL을 설치하고 SQL에 대해 공부했습니다."><meta name="creator" content="김현재"><meta name="publisher" content="김현재"><meta name="author" content="김현재"><meta name="canonical" content="https://present.kim/posts/kdt/2024/04/11/sql-init"><link rel="canonical" href="https://present.kim/posts/kdt/2024/04/11/sql-init"><link rel="sitemap" type="application/xml" title="Sitemap" href="/sitemap.xml"><link rel="self" type="application/atom+xml" href="/atom.xml"><link rel="alternate" href="/rss.xml" type="application/rss+xml" title="RSS"><meta name="robots" content="index, follow"><meta name="generator" content="SvelteKit v1.20.5"><meta itemprop="name" content="📝 KDT : 04월 11일자 수업 정리 - 현재는개발중"><meta itemprop="description" content="오늘은 오라클 SQL을 설치하고 SQL에 대해 공부했습니다."><meta property="og:type" content="article"><meta property="og:locale" content="ko_KR"><meta property="og:url" content="https://present.kim/posts/kdt/2024/04/11/sql-init"><meta property="og:name" content="현재는개발중"><meta property="og:title" content="📝 KDT : 04월 11일자 수업 정리 - 현재는개발중"><meta property="og:article:author" content="김현재"><meta property="og:description" content="오늘은 오라클 SQL을 설치하고 SQL에 대해 공부했습니다."><meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="📝 KDT : 04월 11일자 수업 정리 - 현재는개발중"><meta name="twitter:domain" content="https://present.kim"><meta name="twitter:description" content="오늘은 오라클 SQL을 설치하고 SQL에 대해 공부했습니다."><meta name="giscus:backlink" content="https://present.kim/posts/kdt/2024/04/11/sql-init"> </head> <body class="sidebar:overflow-y-hidden h-full overflow-x-hidden"> <div style="display:contents"> <aside aria-label="Sidebar" id="sidebar" class="flex flex-col -translate-x-full bg-mono-200 border-mono-100 border-r ease-in-out-500 fixed h-full justify-between left-0 lg:translate-x-0 max-w-full p-0 sidebar:translate-x-0 text-mono-500 top-0 transition-transform w-64 z-50"><button id="sidebar-toggle-button" aria-label="Open Sidebar" class="ease-in-out-500 bg-mono-200 fixed sidebar:translate-x-0 lg:hidden p-2 right-0 rounded-r-lg scroll-up:translate-x-full scrolled:translate-x-0 top-2 transition-[transform,background] translate-x-full"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" class="[&amp;_*]:transition-transform [&amp;_*]:ease-spring-700 fill-none h-7 lg:hidden stroke-[6px] stroke-current stroke-round w-7"><path class="origin-center -translate-y-3" d="M04,25 46,25"></path><path class="origin-center" d="M04,25 32,25"></path><path class="origin-center translate-y-3" d="M04,25 46,25"></path></svg></button> <header id="sidebar-title" class="flex flex-col items-center mt-16 w-full" data-svelte-h="svelte-1y8m1o4"><div id="profile-wrapper" class="mx-auto relative text-center"><img src="https://avatars.githubusercontent.com/u/13284800?v=4" alt="Profile" class="ring-4 ring-mono-200 rounded-full shadow-2xl h-36 w-36" fetchpriority="high" decoding="async"> <div class="ease-in-out-500 absolute bg-background bottom-2 h-1/5 right-2 ring-4 ring-mono-200 rounded-full shadow-2xl transition-[width_height_bottom_right] w-1/5"><p>😎</p></div></div> <p class="font-bold mt-4 text-xl">현재는 개발중</p></header> <nav class="flex flex-col items-center gap-2 justify-center"><a href="/" class="mx-auto bg-mono-500 bg-opacity-0 ease-in-out-300 hover:bg-opacity-20 items-start pl-6 py-2 rounded-2xl text-start transition-[background-color] w-48"><i class="before:text-3xl home"></i> <span class="font-bold ml-4">Home</span> </a><a href="/posts" class="mx-auto bg-mono-500 bg-opacity-0 ease-in-out-300 hover:bg-opacity-20 items-start pl-6 py-2 rounded-2xl text-start transition-[background-color] w-48"><i class="before:text-3xl list"></i> <span class="font-bold ml-4">Posts</span> </a><a href="/tags" class="mx-auto bg-mono-500 bg-opacity-0 ease-in-out-300 hover:bg-opacity-20 items-start pl-6 py-2 rounded-2xl text-start transition-[background-color] w-48"><i class="before:text-3xl tags"></i> <span class="font-bold ml-4">Tags</span> </a><a href="/about" class="mx-auto bg-mono-500 bg-opacity-0 ease-in-out-300 hover:bg-opacity-20 items-start pl-6 py-2 rounded-2xl text-start transition-[background-color] w-48"><i class="before:text-3xl info"></i> <span class="font-bold ml-4">About</span> </a></nav> <br> <footer id="sidebar-buttons" class="flex flex-row justify-between mb-8 mx-4 w-[calc(100%-2rem)]"><button aria-label="Change Theme" class="sidebar-button [&amp;_*]:origin-center" data-svelte-h="svelte-1pew3qf"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" class="[&amp;_*]:transition-transform [&amp;_*]:ease-spring-500"><mask id="moonMask"><rect class="fill-white" width="50" height="50"></rect><circle class="dark:scale-100 fill-black origin-top-right scale-0" cx="34" cy="14" r="16"></circle></mask><g mask="url(#moonMask)"><circle class="dark:scale-125 fill-current scale-50" cx="25" cy="25" r="16"></circle><g class="fill-none stroke-current stroke-round dark:scale-0 scale-100 stroke-[5px]"><line x1="4" y1="25" x2="12" y2="25"></line><line x1="46" y1="25" x2="38" y2="25"></line><line x1="25" y1="4" x2="25" y2="12"></line><line x1="25" y1="46" x2="25" y2="38"></line><line x1="10" y1="10" x2="15" y2="15"></line><line x1="40" y1="40" x2="35" y2="35"></line><line x1="10" y1="40" x2="15" y2="35"></line><line x1="40" y1="10" x2="35" y2="15"></line></g></g></svg></button> <a aria-label="Contact to E-mail" href="mailto:contanct@present.kim" class="sidebar-button" target="_self"><i class="mail"></i> </a><a aria-label="Contact to Telegram" href="https://t.me/PresentKim" class="sidebar-button" target="_blank"><i class="telegram"></i> </a><a aria-label="Go to Github" href="https://github.com/PresentKim" class="sidebar-button" target="_blank"><i class="github"></i> </a><a aria-label="Go to Blog Feed" href="/atom.xml" class="sidebar-button" target="_blank"><i class="rss"></i> </a></footer></aside> <div id="contents-container" class="ease-in-out-500 w-full lg:translate-x-64 lg:w-[calc(100vw-16rem)] overflow-x-hidden sidebar:translate-x-64 sidebar:w-[calc(100vw-16rem)] transition-[transform,width] translate-x-0"><div class="lg:w-[calc(100vw-16rem)] w-screen"><header id="contents-header" class="flex items-center w-full ease-in-out-500 h-12 justify-start m-auto p-2 select-none transition-[margin]"></header> <main class="blog-container"> <h1 class="text-xl my-2">📝 KDT : 04월 11일자 수업 정리</h1> <div class="flex flex-row border-b border-mono-200 mb-6 text-center text-sm w-full"><p class="my-auto py-6 text-mono-500">2024-04-11</p> <div class="flex flex-wrap font-bold text-primary"><a class="my-auto bg-foreground bg-opacity-5 mx-1 px-2 py-1 rounded-sm" href="/tags/kdt"><code>#kdt</code> </a><a class="my-auto bg-foreground bg-opacity-5 mx-1 px-2 py-1 rounded-sm" href="/tags/sql"><code>#sql</code> </a></div></div> <section id="post" class="article"><ul><li>사용하는 IDE : Eclipse 2024-03 (4.31.0)</li> <li>사용하는 DBMS : Oracle Database Express Edition (XE) Release 11.2.0.2.0 (11gR2).</li></ul> <hr> <h1>SQL의 큰 구조</h1> <h2>테이블(Table)</h2> <p>데이터베이스에서 사용되는 데이터 집합의 단위로 흔히 알고 있는 “표”에 해당합니다.</p> <h2>필드(Field)</h2> <p>열에 해당하는 데이터 단위로, 세로줄로 표시됩니다. 외에도 속성(attribute), 혹은 칼럼(column)이라고도 불립니다.</p> <h2>레코드(Record)</h2> <p>열에 해당하는 데이터 단위로, 가로줄로 표시됩니다. 외에도 튜플(tuple), 혹은 로우(row)이라고도 불립니다.</p> <p>데이터베이스에는 SQL(Structured Query Lanuage)가 활용됩니다. SQL는 관계형 데이터베이스 관리 시스템(RDBMS)를 위해 설계된 특수 목적의 프로그래밍 언어입니다.</p> <hr> <h1>SQL 문법</h1> <ul><li>주석문 : <code>--</code> 또는 <code>/* */</code>를 통해 주석을 작성할 수 있습니다.</li> <li>명령어는 대소문자를 구분하지 않습니다. (하지만, 명령어는 대문자로 작성하는 것이 관례입니다.)</li> <li>명령어는 세미콜론(<code>;</code>)으로 끝납니다.</li> <li>명령어는 여러 줄에 걸쳐 작성할 수 있습니다.</li></ul> <hr> <h2>제약조건 (Constraint)</h2> <p>SQL에는 필드에 들어갈 수 있는 값과 필드나 테이블 간의 관계를 제한하는 제약조건이 있습니다.</p> <pre class="language-sql"><code class="language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> booklist <span class="token punctuation">(</span>
    book_num VARCHAR2<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>위 처럼 쓰는 경우는 필드 수준의 제약조건이라고 하고,</p> <pre class="language-sql"><code class="language-sql"><span class="token keyword">CONSTRAINT</span> booklist_pk <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>book_num<span class="token punctuation">)</span></code></pre> <p>위 처럼 쓰는 경우는 테이블 수준의 제약조건이라고 합니다.</p> <h3>NOT NULL</h3> <p>필드에 NULL 값을 허용하지 않는 제약조건입니다. SQL의 NULL은 자바의 NULL과 같은 의미입니다.</p> <hr> <h3>기본키 (Primary Key)</h3> <p>SQL에는 기본키라는 제약조건이 있습니다. 기본키는 데이블을 구성하는 필드 중 갖는 값이 NOT NULL이고, 서로 다른 값(유일한 값)을 갖고 있어 레코드를 식별할 수 있는 필드입니다. 테이블을 구성하는 필드 중 하나를 기본키로 지정할 수 있습니다. 기본키를 지정함으로서 발생할 수 있는 오류를 미연에 방지하고 탐색 속도를 높힐 수 있습니다. 기본키로 결함을 없애고, 그 상태를 유지하는 것을 객체 무결성이라고 합니다.</p> <hr> <h3>외래키 (Foreign Key)</h3> <p>SQL에는 외래키라는 제약조건이 있습니다. 테이블 간의 필수 포함 관계를 구성할 때에 상대 테이블의 특정 필드값을 참조하고, 상대 테이블에 없는 값을 사용할 수 없도록 하는 규칙입니다. 이때 참조의 대상이 될 필드는 기본키(primary key) 또는 유일한 값(unique)이어야 합니다. 외래키로 유지되는 무결성을 참조 무결성이라고 합니다.</p> <p>예를 들어 <code>booklist</code> 테이블에 존재하지 않는 도서의 번호(<code>book_num</code>)를 <code>rentlist</code> 테이블의 빌려간 도서의 번호로 입력할 수 없도록 하는 것입니다.</p> <div class="admonition admonition-info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path class="outlined" d="M12,8v0m0,3v5m0-13a9,9 0,1 1-.1,0"></path></svg></span>도서대여점의 도서목록과 대여목록의 관계</h5></div><div class="admonition-content"><ul><li>도서목록 테이블의 이름 : booklist</li> <li>대여목록 테이블의 이름 : rentlist</li> </ul><table><thead><tr><th>필드 이름</th> <th>자료형</th> <th>제약조건</th></tr></thead> <tbody><tr><td>idx</td> <td>NUMBER(3)</td> <td></td></tr> <tr><td>rent_date</td> <td>DATE</td> <td></td></tr> <tr><td>bnum</td> <td>VARCHAR(5)</td> <td>NOT NULL</td></tr> <tr><td>mnum</td> <td>VARCHAR(5)</td> <td>NOT NULL</td></tr> <tr><td>discount</td> <td>NUMBER(4)</td> <td></td></tr> <tr><td>…</td> <td>…</td> <td>…</td></tr></tbody> </table><pre class="language-sql"><code class="language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> rentlist <span class="token punctuation">(</span>
    idx       NUMBER<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                 <span class="token comment">-- 대여번호</span>
    rent_date <span class="token keyword">DATE</span>      <span class="token keyword">DEFAULT</span> sysdate<span class="token punctuation">,</span> <span class="token comment">-- 대여일자 (데이터 입력시 현재 날짜로 입력)</span>
    bnum      VARCHAR2<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>      <span class="token comment">-- 도서번호</span>
    mnum      VARCHAR2<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>      <span class="token comment">-- 회원번호</span>
    discount  NUMBER<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token number">500</span><span class="token punctuation">,</span>     <span class="token comment">-- 할인액  (데이터 미입력시 500으로 입력)</span>
    <span class="token keyword">CONSTRAINT</span> pk <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>idx<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">CONSTRAINT</span> fk1 <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>bnum<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> booklist <span class="token punctuation">(</span>book_num<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">-- 현재 테이블의 bnum 필드는 booklist 테이블의 book_num 필드를 참조합니다.</span>
    <span class="token keyword">CONSTRAINT</span> fk2 <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>mnum<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> memberlist <span class="token punctuation">(</span>member_num<span class="token punctuation">)</span>
    <span class="token comment">-- 현재 테이블의 mnum 필드는 memberlist 테이블의 member_num 필드를 참조합니다.</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div></div> <h3>유일값 (Unique)</h3> <p>UNIQUE는 필드에 중복된 값을 허용하지 않는 제약조건입니다. 기본키와 유일값은 비슷하지만, 기본키는 NULL을 허용하지 않는 반면, 유일값은 NULL을 허용합니다.</p> <h3>조건 (Check)</h3> <p>CHECK는 필드에 들어갈 수 있는 값의 범위를 제한하는 제약조건입니다. 제약의 조건에는 TRUE 또는 FALSE를 반환하는 조건식을 사용할 수 있습니다. 이를 이용해 가격이 0 이상이라거나, 성별이 ‘남자’ 또는 ‘여자’라는 조건 등을 걸 수 있습니다.</p> <hr> <h2>자료형 (Data Type)</h2> <h3>정수형</h3> <ul><li>NUMBER(자리수) : 바이트가 아닌 자리수를 입력하는 것에 주의</li></ul> <h3>실수형</h3> <ul><li>NUMBER(자리수, 소수점 이하 자리수) : 바이트가 아닌 자리수를 입력하는 것에 주의</li></ul> <h3>가변형 문자 (최대 4000 Byte)</h3> <ul><li>VARCHAR2(문자수) : 지정한 문자수를 최대 크기로 갖지만, 실제 문자수만큼의 공간만 차지한다</li></ul> <h3>고정형 문자 (최대 2000 Byte)</h3> <ul><li>CHAR(문자수) : 지정한 문자수를 최대 크기로 갖고, 문자수 만큼의 공간을 차지한다</li></ul> <h3>가변형 유니코드 문자 (최대 4000 Byte)</h3> <ul><li>NVARCHAR2(문자수) : VARCHAR2와 같지만, 유니코드 문자를 저장할 수 있다</li></ul> <h3>고정형 유니코드 문자 (최대 2000 Byte)</h3> <ul><li>NCHAR(문자수) : CHAR와 같지만, 유니코드 문자를 저장할 수 있다</li></ul> <h3>날짜형</h3> <ul><li>DATE : 주로 사용되는 날짜와 시간을 저장할 수 있는 자료형 (java.sql.Date와 유사)</li> <li>TIMESTAMP : DATE와 유사하지만, 밀리초까지 저장할 수 있는 자료형 (java.sql.Timestamp와 유사)</li> <li>SYSDATE : DATE 형식의 현재 날짜와 시간을 반환하는 키워드</li> <li>SYSTIMESTAMP : TIMESTAMP 형식의 현재 날짜와 시간을 반환하는 키워드</li></ul> <h3>LOB (Large Object)</h3> <ul><li>대용량 데이터를 저장할 수 있는 타입이지만, 최근에는 별도로 저장하고, 경로만 저장하는 추세이다.</li> <li>BLOB : 이진 데이터</li> <li>CLOB : 문자 데이터</li> <li>NCLOB : 유니코드 문자 데이터</li></ul> <h3>더이상 사용되지 않는 자료형</h3> <ul><li>VARCHAR : VARCHAR2로 대체</li> <li>LONG : 최대 2GB의 가변 길이 문자형</li> <li>FLOAT : NUMBER로 대체 (2진수 기준 22바이트)</li> <li>BINARY_FLOAT : 32비트 부동 소수점</li> <li>BINARY_DOUBLE : 64비트 부동 소수점</li></ul> <hr> <h1>SQL 명령어의 분류</h1> <h2>1. DDL 명령어 : 데이터베이스의 구조를 정의하는 명령어</h2> <h3>1. <code>CREATE</code> : 테이블 또는 뷰, 사용자 등을 생성</h3> <pre class="language-sql"><code class="language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> table_name <span class="token punctuation">(</span>
    필드명<span class="token number">1</span> DATATYPE <span class="token punctuation">[</span><span class="token keyword">DEFAULT</span> 기본값<span class="token punctuation">,</span> <span class="token operator">OR</span> 제약조건 등<span class="token punctuation">]</span><span class="token punctuation">,</span>
    필드명<span class="token number">2</span> DATATYPE <span class="token punctuation">[</span><span class="token keyword">DEFAULT</span> 기본값<span class="token punctuation">,</span> <span class="token operator">OR</span> 제약조건 등<span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">,</span>
    필드명n DATATYPE <span class="token punctuation">[</span><span class="token keyword">DEFAULT</span> 기본값<span class="token punctuation">,</span> <span class="token operator">OR</span> 제약조건 등<span class="token punctuation">]</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <div class="admonition admonition-info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path class="outlined" d="M12,8v0m0,3v5m0-13a9,9 0,1 1-.1,0"></path></svg></span>CREATE TABLE 의 세부 규칙</h5></div><div class="admonition-content"><ol><li>테이블의 이름은 객체를 의미할 수 있는 적합한 이름을 사용합니다. (Java의 변수와 유사한 규칙)</li> <li>다른 테이블과 이름이 중복되지 않게 주의합니다.</li> <li>한 테이블 내에서도 필드 이름이 중복되지 않게 주의합니다.</li> <li>각 필드들은 <code>,</code>로 구분합니다. 단, 마지막 필드는 <code>,</code>를 붙이지 않습니다.</li> <li>CREATE를 비롯한 모든 명령어는 <code>;</code>로 끝납니다.</li> <li>필드 이름 뒤에 DATATYPE은 반드시 지정하고, []안의 내용은 생략 가능합니다.</li> <li>예약어 명령어 등을 테이블 이름과 필드 이름으로 사용할 수 없습니다.</li> <li>테이블 생성시 대소문자를 구분하지 않습니다.</li> <li>보통은 데이터 형식과 용량을 지정하는데, DATE 형식은 별도로 크기를 지정하지 않습니다.</li> <li>문자데이터의 DATATYPE은 VARCHAR2(10), NUMBER의 DATATYPE은 NUMBER(10) 등으로 지정합니다.</li> <li>필드의 크기는 반드시 가질 수 있는 최대의 길이로 지정해야합니다.</li> <li>숫자 데이터 형식의 경우 바이트가 아니라 자리수를 지정한다는 것을 주의합니다.</li></ol></div></div> <div class="admonition admonition-info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path class="outlined" d="M12,8v0m0,3v5m0-13a9,9 0,1 1-.1,0"></path></svg></span>도서대여점의 도서목록 테이블의 생성</h5></div><div class="admonition-content"><p>테이블 이름 : booklist</p><table><thead><tr><th>필드 이름</th> <th>자료형</th> <th>제약조건</th></tr></thead> <tbody><tr><td>book_num</td> <td>문자 5자</td> <td>NOT NULL</td></tr> <tr><td>subject</td> <td>문자 30자</td> <td>NOT NULL</td></tr> <tr><td>makeyear</td> <td>숫자 4자</td> <td></td></tr> <tr><td>inprice</td> <td>숫자 6자</td> <td></td></tr> <tr><td>outprice</td> <td>숫자 6자</td> <td></td></tr></tbody> </table><pre class="language-sql"><code class="language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> booklist <span class="token punctuation">(</span>
    book_num VARCHAR2<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    subject VARCHAR2<span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    makeyear NUMBER<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    inprice NUMBER<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    outprice NUMBER<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>여기서 문자열을 담는 자료형인 <code>CHAR</code>은 무조건 고정된 크기를 차지합니다. 이를 대신해서 사용되는 <code>VARCHAR</code>은 불필요한 공간을 차지하지 않는다는 장점이 있습니다. 오라클에선 보다 더 좋은 성능을 가진 <code>VARCHAR2</code>를 지원합니다.</p><p>주의할 점은 <code>NUMBER(4)</code>의 4는 4바이트가 아닌 4자리 숫자를 의미합니다. 따라서 <code>NUMBER(4)</code>는 -9999부터 9999까지의 숫자를 저장할 수 있습니다.</p></div></div> <div class="admonition admonition-info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path class="outlined" d="M12,8v0m0,3v5m0-13a9,9 0,1 1-.1,0"></path></svg></span>회원리스트의 테이블 생성</h5></div><div class="admonition-content"><p>테이블 이름 : memberlist</p><table><thead><tr><th>필드 이름</th> <th>자료형</th> <th>제약조건</th></tr></thead> <tbody><tr><td>member_num</td> <td>VARCHAR(5)</td> <td>NOT NULL : 필드 레벨로 설정, PRIMARY KEY : 테이블 레벨로 설정</td></tr> <tr><td>member_name</td> <td>VARCHAR(12)</td> <td>NOT NULL : 필드 레벨로 설정</td></tr> <tr><td>Phone</td> <td>VARCHAR(13)</td> <td>NOT NULL : 필드 레벨로 설정</td></tr> <tr><td>birth</td> <td>DATE</td> <td></td></tr> <tr><td>bpoint</td> <td>NUMBER(6)</td> <td></td></tr></tbody> </table><pre class="language-sql"><code class="language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> memberlist <span class="token punctuation">(</span>
    member_num VARCHAR2<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    member_name VARCHAR2<span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    phone VARCHAR2<span class="token punctuation">(</span><span class="token number">13</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    birth <span class="token keyword">DATE</span><span class="token punctuation">,</span>
    bpoint NUMBER<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">CONSTRAINT</span> member_pk <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>member_num<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div></div> <h3>2. <code>DROP</code> : 이미 생성되어 있는 테이블 또는 뷰, 사용자 등을 삭제</h3> <pre class="language-sql"><code class="language-sql"><span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> table_name<span class="token punctuation">;</span></code></pre> <div class="admonition admonition-info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path class="outlined" d="M12,8v0m0,3v5m0-13a9,9 0,1 1-.1,0"></path></svg></span>도서대여점의 도서목록 테이블의 삭제</h5></div><div class="admonition-content"><pre class="language-sql"><code class="language-sql"><span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> booklist<span class="token punctuation">;</span></code></pre></div></div> <h3>3. <code>ALTER</code> : 이미 생성되어 있는 테이블 또는 뷰, 사용자 등의 구조를 변경</h3> <pre class="language-sql"><code class="language-sql"><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name <span class="token keyword">ADD</span> 필드명 DATATYPE<span class="token punctuation">;</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name <span class="token keyword">MODIFY</span> 필드명 DATATYPE<span class="token punctuation">;</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name <span class="token keyword">DROP</span> <span class="token keyword">COLUMN</span> 필드명<span class="token punctuation">;</span></code></pre> <div class="admonition admonition-info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path class="outlined" d="M12,8v0m0,3v5m0-13a9,9 0,1 1-.1,0"></path></svg></span>도서대여점의 도서목록 테이블의 수정</h5></div><div class="admonition-content"><pre class="language-sql"><code class="language-sql"><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> booklist <span class="token keyword">ADD</span> pub VARCHAR2<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> booklist <span class="token keyword">MODIFY</span> inprice NUMBER<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> booklist <span class="token keyword">DROP</span> <span class="token keyword">COLUMN</span> makeyear<span class="token punctuation">;</span></code></pre></div></div> <h2>2. DML 명령어 : 데이터를 조작하는 명령어</h2> <h3>1. <code>SELECT</code> : 테이블의 데이터를 조회하는 명령어</h3> <pre class="language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> 필드명<span class="token number">1</span><span class="token punctuation">,</span> 필드명<span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">FROM</span> 테이블명<span class="token punctuation">;</span></code></pre> <div class="admonition admonition-info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path class="outlined" d="M12,8v0m0,3v5m0-13a9,9 0,1 1-.1,0"></path></svg></span>도서대여점의 도서목록 테이블의 조회</h5></div><div class="admonition-content"><pre class="language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> booklist<span class="token punctuation">;</span></code></pre></div></div> <h3>2. <code>INSERT</code> : 테이블에 데이터를 삽입하는 명령어</h3> <h3>3. <code>UPDATE</code> : 테이블의 데이터를 수정하는 명령어</h3> <h3>4. <code>DELETE</code> : 테이블의 데이터를 삭제하는 명령어</h3> <h2>3. DCL 명령어 : 데이터베이스에 대한 접근을 제어하는 명령어</h2> <h3>1. <code>GRANT</code> : 특정 사용자에게 특정 권한을 부여</h3> <h3>2. <code>REVOKE</code> : 특정 사용자에게 특정 권한을 박탈</h3> <hr> <h1>시퀀스 (Sequence)</h1> <p>시퀀스는 테이블 내의 중복되지 않는 숫자를 자동으로 생성하는 자동 번호 발생기입니다. 테이블 생성 후 시퀀스를 따로 만들어야 합니다.</p> <h2>생성 방법</h2> <p>주로 NUMBER 형식의 기본 키값으로 사용됩니다.</p> <pre class="language-sql"><code class="language-sql"><span class="token keyword">CREATE</span> SEQUENCE 시퀀스명 <span class="token keyword">START</span> <span class="token keyword">WITH</span> 시작값 INCREMENT <span class="token keyword">BY</span> 증가값<span class="token punctuation">;</span></code></pre> <pre class="language-sql"><code class="language-sql"><span class="token keyword">CREATE</span> SEQUENCE book_seq <span class="token keyword">START</span> <span class="token keyword">WITH</span> <span class="token number">1</span> INCREMENT <span class="token keyword">BY</span> <span class="token number">1</span><span class="token punctuation">;</span></code></pre> <hr> <h2>사용 방법</h2> <pre class="language-sql"><code class="language-sql"><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> 테이블명 <span class="token punctuation">(</span>기본키<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span>시퀀스명<span class="token punctuation">.</span>NEXTVAL<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <pre class="language-sql"><code class="language-sql"><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> booklist <span class="token keyword">VALUES</span> <span class="token punctuation">(</span>book_seq<span class="token punctuation">.</span>NEXTVAL<span class="token punctuation">,</span> <span class="token string">'스프링 부트 3'</span><span class="token punctuation">,</span> <span class="token number">2024</span><span class="token punctuation">,</span> <span class="token number">21000</span><span class="token punctuation">,</span> <span class="token number">27000</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <hr> <h2>시퀀스 삭제</h2> <pre class="language-sql"><code class="language-sql"><span class="token keyword">DROP</span> SEQUENCE 시퀀스명<span class="token punctuation">;</span></code></pre> <pre class="language-sql"><code class="language-sql"><span class="token keyword">DROP</span> SEQUENCE book_seq<span class="token punctuation">;</span></code></pre> <hr> <h1>뷰 (View)</h1> <p>뷰는 하나 이상의 테이블로부터 유도된 가상 테이블입니다. 뷰는 데이터를 저장하지 않지만, 테이블과 같이 사용할 수 있습니다.</p> <h2>생성 방법</h2> <pre class="language-sql"><code class="language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">VIEW</span> 뷰명 <span class="token keyword">AS</span> <span class="token keyword">SELECT</span> 필드명<span class="token number">1</span><span class="token punctuation">,</span> 필드명<span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">FROM</span> 테이블명 <span class="token keyword">WHERE</span> 조건<span class="token punctuation">;</span></code></pre> <pre class="language-sql"><code class="language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">VIEW</span> bookview <span class="token keyword">AS</span> <span class="token keyword">SELECT</span> book_num<span class="token punctuation">,</span> subject <span class="token keyword">FROM</span> booklist <span class="token keyword">WHERE</span> makeyear <span class="token operator">&gt;</span> <span class="token number">2010</span><span class="token punctuation">;</span></code></pre> <hr> <h2>뷰 삭제</h2> <pre class="language-sql"><code class="language-sql"><span class="token keyword">DROP</span> <span class="token keyword">VIEW</span> 뷰명<span class="token punctuation">;</span></code></pre> <pre class="language-sql"><code class="language-sql"><span class="token keyword">DROP</span> <span class="token keyword">VIEW</span> bookview<span class="token punctuation">;</span></code></pre> <hr> <div class="admonition admonition-info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path class="outlined" d="M12,8v0m0,3v5m0-13a9,9 0,1 1-.1,0"></path></svg></span>예제 테이블 만들기</h5></div><div class="admonition-content"><ul><li>테이블 이름 : orders1</li> </ul><table><thead><tr><th>필드 이름</th> <th>자료형</th> <th>제약조건</th></tr></thead> <tbody><tr><td>order_id</td> <td>NUMBER(12,0)</td> <td>기본키 (테이블레벨, 제약명 : pk_order)</td></tr> <tr><td>order_date</td> <td>DATE</td> <td>기본값은 오늘 날짜 (필드레벨)</td></tr> <tr><td>order_mode</td> <td>VARCHAR2(8)</td> <td>‘direct’와 ‘online’만 입력 가능 (테이블레벨, 제약명 : ck_order_mode)</td></tr> <tr><td>order_status</td> <td>NUMBER(2,0)</td> <td></td></tr> <tr><td>order_total</td> <td>NUMBER(8,2)</td> <td>기본값은 0 (필드레벨)</td></tr> <tr><td>sales_rep_id</td> <td>NUMBER(6,0)</td> <td></td></tr> <tr><td>promotion_id</td> <td>NUMBER(6,0)</td> <td></td></tr></tbody> </table><pre class="language-sql"><code class="language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> orders1 <span class="token punctuation">(</span>
    order_id NUMBER<span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    order_date <span class="token keyword">DATE</span> <span class="token keyword">DEFAULT</span> SYSDATE<span class="token punctuation">,</span>
    order_mode VARCHAR2<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    order_status NUMBER<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    order_total NUMBER<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token number">0</span><span class="token punctuation">,</span>
    customer_id NUMBER<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    sales_rep_id NUMBER<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    promotion_id NUMBER<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">CONSTRAINT</span> pk_order <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>order_id<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">CONSTRAINT</span> ck_order_mode <span class="token keyword">CHECK</span> <span class="token punctuation">(</span>order_mode <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token string">'direct'</span><span class="token punctuation">,</span> <span class="token string">'online'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><ul><li>customer_id 필드명을 customer_number 로 변경</li> </ul><pre class="language-sql"><code class="language-sql"><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> orders1 <span class="token keyword">RENAME</span> <span class="token keyword">COLUMN</span> customer_id <span class="token keyword">TO</span> customer_number<span class="token punctuation">;</span></code></pre><ul><li>promotion_id 필드의 값은 10000에서 99999 사이의 값만 허용</li> </ul><pre class="language-sql"><code class="language-sql"><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> orders1 <span class="token keyword">ADD</span> <span class="token keyword">CONSTRAINT</span> ck_promotion_id <span class="token keyword">CHECK</span> promotion_id <span class="token operator">&gt;=</span> <span class="token number">10000</span> <span class="token operator">AND</span> promotion_id <span class="token operator">&lt;=</span> <span class="token number">99999</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">-- 혹은 BETWEEN 사용</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> orders1 <span class="token keyword">ADD</span> <span class="token keyword">CONSTRAINT</span> ck_promotion_id <span class="token keyword">CHECK</span> <span class="token punctuation">(</span>promotion_id <span class="token operator">BETWEEN</span> <span class="token number">10000</span> <span class="token operator">AND</span> <span class="token number">99999</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><ul><li>orders1 테이블을 orders2로 복사</li> </ul><pre class="language-sql"><code class="language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> orders2 <span class="token keyword">AS</span> <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> orders1<span class="token punctuation">;</span></code></pre></div></div> <hr> <div class="admonition admonition-info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path class="outlined" d="M12,8v0m0,3v5m0-13a9,9 0,1 1-.1,0"></path></svg></span>booklist 테이블에 시퀀스 등록하기</h5></div><div class="admonition-content"><pre class="language-sql"><code class="language-sql"><span class="token keyword">CREATE</span> SEQUENCE book_seq <span class="token keyword">START</span> <span class="token keyword">WITH</span> <span class="token number">1</span> INCREMENT <span class="token keyword">BY</span> <span class="token number">1</span><span class="token punctuation">;</span>

<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> booklist <span class="token keyword">VALUES</span> <span class="token punctuation">(</span>book_seq<span class="token punctuation">.</span>NEXTVAL<span class="token punctuation">,</span> <span class="token string">'스프링 부트 3 백엔드'</span><span class="token punctuation">,</span> <span class="token number">2024</span><span class="token punctuation">,</span> <span class="token number">21000</span><span class="token punctuation">,</span> <span class="token number">27000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> booklist <span class="token keyword">VALUES</span> <span class="token punctuation">(</span>book_seq<span class="token punctuation">.</span>NEXTVAL<span class="token punctuation">,</span> <span class="token string">'코딩 자율학습'</span><span class="token punctuation">,</span> <span class="token number">2024</span><span class="token punctuation">,</span> <span class="token number">22000</span><span class="token punctuation">,</span> <span class="token number">29700</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> booklist <span class="token keyword">VALUES</span> <span class="token punctuation">(</span>book_seq<span class="token punctuation">.</span>NEXTVAL<span class="token punctuation">,</span> <span class="token string">'객체 지향의 원리'</span><span class="token punctuation">,</span> <span class="token number">2024</span><span class="token punctuation">,</span> <span class="token number">15000</span><span class="token punctuation">,</span> <span class="token number">22500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> booklist <span class="token keyword">VALUES</span> <span class="token punctuation">(</span>book_seq<span class="token punctuation">.</span>NEXTVAL<span class="token punctuation">,</span> <span class="token string">'자바 표준 프로그래밍'</span><span class="token punctuation">,</span> <span class="token number">2024</span><span class="token punctuation">,</span> <span class="token number">30000</span><span class="token punctuation">,</span> <span class="token number">38700</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><ul><li>시퀀스 최대 증가값을 14까지로 제한</li> </ul><pre class="language-sql"><code class="language-sql"><span class="token keyword">ALTER</span> SEQUENCE book_seq MAXVALUE <span class="token number">14</span><span class="token punctuation">;</span></code></pre><ul><li>시퀀스 삭제</li> </ul><pre class="language-sql"><code class="language-sql"><span class="token keyword">DROP</span> SEQUENCE book_seq<span class="token punctuation">;</span></code></pre><ul><li>시퀀스 재생성</li> </ul><pre class="language-sql"><code class="language-sql"><span class="token keyword">CREATE</span> SEQUENCE book_seq <span class="token keyword">START</span> <span class="token keyword">WITH</span> <span class="token number">15</span> INCREMENT <span class="token keyword">BY</span> <span class="token number">1</span><span class="token punctuation">;</span></code></pre><ul><li>1부터 1씩 증가하는 member_seq, rent_seq 시퀀스 생성</li> </ul><pre class="language-sql"><code class="language-sql"><span class="token keyword">CREATE</span> SEQUENCE member_seq <span class="token keyword">START</span> <span class="token keyword">WITH</span> <span class="token number">1</span> INCREMENT <span class="token keyword">BY</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">CREATE</span> SEQUENCE rent_seq <span class="token keyword">START</span> <span class="token keyword">WITH</span> <span class="token number">1</span> INCREMENT <span class="token keyword">BY</span> <span class="token number">1</span><span class="token punctuation">;</span></code></pre></div></div> <hr></section> <div class="rounded-2xl border border-mono-200 px-2 py-4 shadow" data-nosnippet=""></div></main> <footer class="hover:[&amp;_a]:text-secondary min-h-14 mt-3 py-3 text-mono-500 w-full"><nav class="flex flex-row gap-4 justify-center"><a href="mailto:contanct@present.kim" target="_blank" rel="noopener noreferrer" aria-label="김현재의 이메일" class="w-6"><svg xmlns="http://www.w3.org/2000/svg" role="link" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M3 7a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2 v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V7z"></path><path d="m3 7 9 6 9-6"></path></g></svg> </a><a href="https://github.com/PresentKim" target="_blank" rel="noopener noreferrer" aria-label="김현재의 깃허브" class="w-6"><svg xmlns="http://www.w3.org/2000/svg" role="link" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 c2.8-.3 5.5-1.4 5.5-6a4.6 4.6 0 0 0-1.3-3.2 4.2 4.2 0 0 0-.1-3.2 s-1.1-.3-3.5 1.3a12.3 12.3 0 0 0-6.2 0C6.5 2.8 5.4 3.1 5.4 3.1 a4.2 4.2 0 0 0-.1 3.2 A4.6 4.6 0 0 0 4 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"></path></g></svg> </a><a href="https://present.kim/atom.xml" target="_blank" rel="noopener noreferrer" aria-label="블로그 RSS" class="w-6"><svg xmlns="http://www.w3.org/2000/svg" role="link" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M4 19a1 1 0 1 0 2 0 1 1 0 1 0-2 0M4 4 a16 16 0 0 1 16 16M4 11a9 9 0 0 1 9 9"></path></g></svg> </a></nav> <div class="text-center text-sm [&amp;_a]:underline leading-loose" data-svelte-h="svelte-10qrfc7"><p>© 2023 PresentKim. All Rights Reserved.</p> <p>Made with <a href="https://kit.svelte.dev/">SvelteKit</a> and <a href="https://tailwindcss.com/">TailwindCSS</a></p></div></footer></div></div> <script>{__sveltekit_gk40c0={base:""};const a=document.currentScript.parentElement,b=[null,{type:"data",data:{title:"📝 KDT : 04월 11일자 수업 정리",summary:"오늘은 오라클 SQL을 설치하고 SQL에 대해 공부했습니다.",formattedDate:"2024-04-11",content:'<ul ><li>사용하는 IDE : Eclipse 2024-03 (4.31.0)</li> <li>사용하는 DBMS : Oracle Database Express Edition (XE) Release 11.2.0.2.0 (11gR2).</li></ul> <hr> <h1 >SQL의 큰 구조</h1> <h2 >테이블(Table)</h2> <p >데이터베이스에서 사용되는 데이터 집합의 단위로 흔히 알고 있는 “표”에 해당합니다.</p> <h2 >필드(Field)</h2> <p >열에 해당하는 데이터 단위로, 세로줄로 표시됩니다. 외에도 속성(attribute), 혹은 칼럼(column)이라고도 불립니다.</p> <h2 >레코드(Record)</h2> <p >열에 해당하는 데이터 단위로, 가로줄로 표시됩니다. 외에도 튜플(tuple), 혹은 로우(row)이라고도 불립니다.</p> <p >데이터베이스에는 SQL(Structured Query Lanuage)가 활용됩니다.\nSQL는 관계형 데이터베이스 관리 시스템(RDBMS)를 위해 설계된 특수 목적의 프로그래밍 언어입니다.</p> <hr> <h1 >SQL 문법</h1> <ul ><li>주석문 : <code>--</code> 또는 <code>/* */</code>를 통해 주석을 작성할 수 있습니다.</li> <li>명령어는 대소문자를 구분하지 않습니다. (하지만, 명령어는 대문자로 작성하는 것이 관례입니다.)</li> <li>명령어는 세미콜론(<code>;</code>)으로 끝납니다.</li> <li>명령어는 여러 줄에 걸쳐 작성할 수 있습니다.</li></ul> <hr> <h2 >제약조건 (Constraint)</h2> <p >SQL에는 필드에 들어갈 수 있는 값과 필드나 테이블 간의 관계를 제한하는 제약조건이 있습니다.</p> <pre class="language-sql">\x3c!-- HTML_TAG_START --\x3e<code class="language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> booklist <span class="token punctuation">(</span>\n    book_num VARCHAR2<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>\n    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">,</span>\n<span class="token punctuation">)</span><span class="token punctuation">;</span></code>\x3c!-- HTML_TAG_END --\x3e</pre> <p >위 처럼 쓰는 경우는 필드 수준의 제약조건이라고 하고,</p> <pre class="language-sql">\x3c!-- HTML_TAG_START --\x3e<code class="language-sql"><span class="token keyword">CONSTRAINT</span> booklist_pk <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>book_num<span class="token punctuation">)</span></code>\x3c!-- HTML_TAG_END --\x3e</pre> <p >위 처럼 쓰는 경우는 테이블 수준의 제약조건이라고 합니다.</p> <h3 >NOT NULL</h3> <p >필드에 NULL 값을 허용하지 않는 제약조건입니다.\nSQL의 NULL은 자바의 NULL과 같은 의미입니다.</p> <hr> <h3 >기본키 (Primary Key)</h3> <p >SQL에는 기본키라는 제약조건이 있습니다.\n기본키는 데이블을 구성하는 필드 중 갖는 값이 NOT NULL이고,\n서로 다른 값(유일한 값)을 갖고 있어 레코드를 식별할 수 있는 필드입니다.\n테이블을 구성하는 필드 중 하나를 기본키로 지정할 수 있습니다.\n기본키를 지정함으로서 발생할 수 있는 오류를 미연에 방지하고 탐색 속도를 높힐 수 있습니다.\n기본키로 결함을 없애고, 그 상태를 유지하는 것을 객체 무결성이라고 합니다.</p> <hr> <h3 >외래키 (Foreign Key)</h3> <p >SQL에는 외래키라는 제약조건이 있습니다.\n테이블 간의 필수 포함 관계를 구성할 때에 상대 테이블의 특정 필드값을 참조하고,\n상대 테이블에 없는 값을 사용할 수 없도록 하는 규칙입니다.\n이때 참조의 대상이 될 필드는 기본키(primary key) 또는 유일한 값(unique)이어야 합니다.\n외래키로 유지되는 무결성을 참조 무결성이라고 합니다.</p> <p >예를 들어 <code>booklist</code> 테이블에 존재하지 않는 도서의 번호(<code>book_num</code>)를\n<code>rentlist</code> 테이블의 빌려간 도서의 번호로 입력할 수 없도록 하는 것입니다.</p> <div class="admonition admonition-info"><div class="admonition-heading" ><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path class="outlined" d="M12,8v0m0,3v5m0-13a9,9 0,1 1-.1,0"></path></svg></span>도서대여점의 도서목록과 대여목록의 관계</h5></div><div class="admonition-content"><ul ><li>도서목록 테이블의 이름 : booklist</li> <li>대여목록 테이블의 이름 : rentlist</li> </ul><table ><thead><tr><th>필드 이름</th> <th>자료형</th> <th>제약조건</th></tr></thead> <tbody><tr><td>idx</td> <td>NUMBER(3)</td> <td></td></tr> <tr><td>rent_date</td> <td>DATE</td> <td></td></tr> <tr><td>bnum</td> <td>VARCHAR(5)</td> <td>NOT NULL</td></tr> <tr><td>mnum</td> <td>VARCHAR(5)</td> <td>NOT NULL</td></tr> <tr><td>discount</td> <td>NUMBER(4)</td> <td></td></tr> <tr><td>…</td> <td>…</td> <td>…</td></tr></tbody> </table><pre class="language-sql">\x3c!-- HTML_TAG_START --\x3e<code class="language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> rentlist <span class="token punctuation">(</span>\n    idx       NUMBER<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                 <span class="token comment">-- 대여번호</span>\n    rent_date <span class="token keyword">DATE</span>      <span class="token keyword">DEFAULT</span> sysdate<span class="token punctuation">,</span> <span class="token comment">-- 대여일자 (데이터 입력시 현재 날짜로 입력)</span>\n    bnum      VARCHAR2<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>      <span class="token comment">-- 도서번호</span>\n    mnum      VARCHAR2<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>      <span class="token comment">-- 회원번호</span>\n    discount  NUMBER<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token number">500</span><span class="token punctuation">,</span>     <span class="token comment">-- 할인액  (데이터 미입력시 500으로 입력)</span>\n    <span class="token keyword">CONSTRAINT</span> pk <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>idx<span class="token punctuation">)</span><span class="token punctuation">,</span>\n    <span class="token keyword">CONSTRAINT</span> fk1 <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>bnum<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> booklist <span class="token punctuation">(</span>book_num<span class="token punctuation">)</span><span class="token punctuation">,</span>\n    <span class="token comment">-- 현재 테이블의 bnum 필드는 booklist 테이블의 book_num 필드를 참조합니다.</span>\n    <span class="token keyword">CONSTRAINT</span> fk2 <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>mnum<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> memberlist <span class="token punctuation">(</span>member_num<span class="token punctuation">)</span>\n    <span class="token comment">-- 현재 테이블의 mnum 필드는 memberlist 테이블의 member_num 필드를 참조합니다.</span>\n<span class="token punctuation">)</span><span class="token punctuation">;</span></code>\x3c!-- HTML_TAG_END --\x3e</pre></div></div> <h3 >유일값 (Unique)</h3> <p >UNIQUE는 필드에 중복된 값을 허용하지 않는 제약조건입니다.\n기본키와 유일값은 비슷하지만, 기본키는 NULL을 허용하지 않는 반면, 유일값은 NULL을 허용합니다.</p> <h3 >조건 (Check)</h3> <p >CHECK는 필드에 들어갈 수 있는 값의 범위를 제한하는 제약조건입니다.\n제약의 조건에는 TRUE 또는 FALSE를 반환하는 조건식을 사용할 수 있습니다.\n이를 이용해 가격이 0 이상이라거나, 성별이 ‘남자’ 또는 ‘여자’라는 조건 등을 걸 수 있습니다.</p> <hr> <h2 >자료형 (Data Type)</h2> <h3 >정수형</h3> <ul ><li>NUMBER(자리수) : 바이트가 아닌 자리수를 입력하는 것에 주의</li></ul> <h3 >실수형</h3> <ul ><li>NUMBER(자리수, 소수점 이하 자리수) : 바이트가 아닌 자리수를 입력하는 것에 주의</li></ul> <h3 >가변형 문자 (최대 4000 Byte)</h3> <ul ><li>VARCHAR2(문자수) : 지정한 문자수를 최대 크기로 갖지만, 실제 문자수만큼의 공간만 차지한다</li></ul> <h3 >고정형 문자 (최대 2000 Byte)</h3> <ul ><li>CHAR(문자수) : 지정한 문자수를 최대 크기로 갖고, 문자수 만큼의 공간을 차지한다</li></ul> <h3 >가변형 유니코드 문자 (최대 4000 Byte)</h3> <ul ><li>NVARCHAR2(문자수) : VARCHAR2와 같지만, 유니코드 문자를 저장할 수 있다</li></ul> <h3 >고정형 유니코드 문자 (최대 2000 Byte)</h3> <ul ><li>NCHAR(문자수) : CHAR와 같지만, 유니코드 문자를 저장할 수 있다</li></ul> <h3 >날짜형</h3> <ul ><li>DATE : 주로 사용되는 날짜와 시간을 저장할 수 있는 자료형 (java.sql.Date와 유사)</li> <li>TIMESTAMP : DATE와 유사하지만, 밀리초까지 저장할 수 있는 자료형 (java.sql.Timestamp와 유사)</li> <li>SYSDATE : DATE 형식의 현재 날짜와 시간을 반환하는 키워드</li> <li>SYSTIMESTAMP : TIMESTAMP 형식의 현재 날짜와 시간을 반환하는 키워드</li></ul> <h3 >LOB (Large Object)</h3> <ul ><li>대용량 데이터를 저장할 수 있는 타입이지만, 최근에는 별도로 저장하고, 경로만 저장하는 추세이다.</li> <li>BLOB : 이진 데이터</li> <li>CLOB : 문자 데이터</li> <li>NCLOB : 유니코드 문자 데이터</li></ul> <h3 >더이상 사용되지 않는 자료형</h3> <ul ><li>VARCHAR : VARCHAR2로 대체</li> <li>LONG : 최대 2GB의 가변 길이 문자형</li> <li>FLOAT : NUMBER로 대체 (2진수 기준 22바이트)</li> <li>BINARY_FLOAT : 32비트 부동 소수점</li> <li>BINARY_DOUBLE : 64비트 부동 소수점</li></ul> <hr> <h1 >SQL 명령어의 분류</h1> <h2 >1. DDL 명령어 : 데이터베이스의 구조를 정의하는 명령어</h2> <h3 >1. <code>CREATE</code> : 테이블 또는 뷰, 사용자 등을 생성</h3> <pre class="language-sql">\x3c!-- HTML_TAG_START --\x3e<code class="language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> table_name <span class="token punctuation">(</span>\n    필드명<span class="token number">1</span> DATATYPE <span class="token punctuation">[</span><span class="token keyword">DEFAULT</span> 기본값<span class="token punctuation">,</span> <span class="token operator">OR</span> 제약조건 등<span class="token punctuation">]</span><span class="token punctuation">,</span>\n    필드명<span class="token number">2</span> DATATYPE <span class="token punctuation">[</span><span class="token keyword">DEFAULT</span> 기본값<span class="token punctuation">,</span> <span class="token operator">OR</span> 제약조건 등<span class="token punctuation">]</span><span class="token punctuation">,</span>\n    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">,</span>\n    필드명n DATATYPE <span class="token punctuation">[</span><span class="token keyword">DEFAULT</span> 기본값<span class="token punctuation">,</span> <span class="token operator">OR</span> 제약조건 등<span class="token punctuation">]</span>\n<span class="token punctuation">)</span><span class="token punctuation">;</span></code>\x3c!-- HTML_TAG_END --\x3e</pre> <div class="admonition admonition-info" ><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path class="outlined" d="M12,8v0m0,3v5m0-13a9,9 0,1 1-.1,0"></path></svg></span>CREATE TABLE 의 세부 규칙</h5></div><div class="admonition-content"><ol><li>테이블의 이름은 객체를 의미할 수 있는 적합한 이름을 사용합니다. (Java의 변수와 유사한 규칙)</li> <li>다른 테이블과 이름이 중복되지 않게 주의합니다.</li> <li>한 테이블 내에서도 필드 이름이 중복되지 않게 주의합니다.</li> <li>각 필드들은 <code>,</code>로 구분합니다. 단, 마지막 필드는 <code>,</code>를 붙이지 않습니다.</li> <li>CREATE를 비롯한 모든 명령어는 <code>;</code>로 끝납니다.</li> <li>필드 이름 뒤에 DATATYPE은 반드시 지정하고, []안의 내용은 생략 가능합니다.</li> <li>예약어 명령어 등을 테이블 이름과 필드 이름으로 사용할 수 없습니다.</li> <li>테이블 생성시 대소문자를 구분하지 않습니다.</li> <li>보통은 데이터 형식과 용량을 지정하는데, DATE 형식은 별도로 크기를 지정하지 않습니다.</li> <li>문자데이터의 DATATYPE은 VARCHAR2(10), NUMBER의 DATATYPE은 NUMBER(10) 등으로 지정합니다.</li> <li>필드의 크기는 반드시 가질 수 있는 최대의 길이로 지정해야합니다.</li> <li>숫자 데이터 형식의 경우 바이트가 아니라 자리수를 지정한다는 것을 주의합니다.</li></ol></div></div> <div class="admonition admonition-info"><div class="admonition-heading" ><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path class="outlined" d="M12,8v0m0,3v5m0-13a9,9 0,1 1-.1,0"></path></svg></span>도서대여점의 도서목록 테이블의 생성</h5></div><div class="admonition-content"><p >테이블 이름 : booklist</p><table ><thead><tr><th>필드 이름</th> <th>자료형</th> <th>제약조건</th></tr></thead> <tbody><tr><td>book_num</td> <td>문자 5자</td> <td>NOT NULL</td></tr> <tr><td>subject</td> <td>문자 30자</td> <td>NOT NULL</td></tr> <tr><td>makeyear</td> <td>숫자 4자</td> <td></td></tr> <tr><td>inprice</td> <td>숫자 6자</td> <td></td></tr> <tr><td>outprice</td> <td>숫자 6자</td> <td></td></tr></tbody> </table><pre class="language-sql">\x3c!-- HTML_TAG_START --\x3e<code class="language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> booklist <span class="token punctuation">(</span>\n    book_num VARCHAR2<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>\n    subject VARCHAR2<span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>\n    makeyear NUMBER<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n    inprice NUMBER<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n    outprice NUMBER<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span>\n<span class="token punctuation">)</span><span class="token punctuation">;</span></code>\x3c!-- HTML_TAG_END --\x3e</pre><p >여기서 문자열을 담는 자료형인 <code>CHAR</code>은 무조건 고정된 크기를 차지합니다.\n이를 대신해서 사용되는 <code>VARCHAR</code>은 불필요한 공간을 차지하지 않는다는 장점이 있습니다.\n오라클에선 보다 더 좋은 성능을 가진 <code>VARCHAR2</code>를 지원합니다.</p><p >주의할 점은 <code>NUMBER(4)</code>의 4는 4바이트가 아닌 4자리 숫자를 의미합니다.\n따라서 <code>NUMBER(4)</code>는 -9999부터 9999까지의 숫자를 저장할 수 있습니다.</p></div></div> <div class="admonition admonition-info"><div class="admonition-heading" ><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path class="outlined" d="M12,8v0m0,3v5m0-13a9,9 0,1 1-.1,0"></path></svg></span>회원리스트의 테이블 생성</h5></div><div class="admonition-content"><p >테이블 이름 : memberlist</p><table ><thead><tr><th>필드 이름</th> <th>자료형</th> <th>제약조건</th></tr></thead> <tbody><tr><td>member_num</td> <td>VARCHAR(5)</td> <td>NOT NULL : 필드 레벨로 설정, PRIMARY KEY : 테이블 레벨로 설정</td></tr> <tr><td>member_name</td> <td>VARCHAR(12)</td> <td>NOT NULL : 필드 레벨로 설정</td></tr> <tr><td>Phone</td> <td>VARCHAR(13)</td> <td>NOT NULL : 필드 레벨로 설정</td></tr> <tr><td>birth</td> <td>DATE</td> <td></td></tr> <tr><td>bpoint</td> <td>NUMBER(6)</td> <td></td></tr></tbody> </table><pre class="language-sql">\x3c!-- HTML_TAG_START --\x3e<code class="language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> memberlist <span class="token punctuation">(</span>\n    member_num VARCHAR2<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>\n    member_name VARCHAR2<span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>\n    phone VARCHAR2<span class="token punctuation">(</span><span class="token number">13</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>\n    birth <span class="token keyword">DATE</span><span class="token punctuation">,</span>\n    bpoint NUMBER<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n    <span class="token keyword">CONSTRAINT</span> member_pk <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>member_num<span class="token punctuation">)</span>\n<span class="token punctuation">)</span><span class="token punctuation">;</span></code>\x3c!-- HTML_TAG_END --\x3e</pre></div></div> <h3 >2. <code>DROP</code> : 이미 생성되어 있는 테이블 또는 뷰, 사용자 등을 삭제</h3> <pre class="language-sql">\x3c!-- HTML_TAG_START --\x3e<code class="language-sql"><span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> table_name<span class="token punctuation">;</span></code>\x3c!-- HTML_TAG_END --\x3e</pre> <div class="admonition admonition-info"><div class="admonition-heading" ><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path class="outlined" d="M12,8v0m0,3v5m0-13a9,9 0,1 1-.1,0"></path></svg></span>도서대여점의 도서목록 테이블의 삭제</h5></div><div class="admonition-content"><pre class="language-sql">\x3c!-- HTML_TAG_START --\x3e<code class="language-sql"><span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> booklist<span class="token punctuation">;</span></code>\x3c!-- HTML_TAG_END --\x3e</pre></div></div> <h3 >3. <code>ALTER</code> : 이미 생성되어 있는 테이블 또는 뷰, 사용자 등의 구조를 변경</h3> <pre class="language-sql">\x3c!-- HTML_TAG_START --\x3e<code class="language-sql"><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name <span class="token keyword">ADD</span> 필드명 DATATYPE<span class="token punctuation">;</span>\n<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name <span class="token keyword">MODIFY</span> 필드명 DATATYPE<span class="token punctuation">;</span>\n<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name <span class="token keyword">DROP</span> <span class="token keyword">COLUMN</span> 필드명<span class="token punctuation">;</span></code>\x3c!-- HTML_TAG_END --\x3e</pre> <div class="admonition admonition-info"><div class="admonition-heading" ><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path class="outlined" d="M12,8v0m0,3v5m0-13a9,9 0,1 1-.1,0"></path></svg></span>도서대여점의 도서목록 테이블의 수정</h5></div><div class="admonition-content"><pre class="language-sql">\x3c!-- HTML_TAG_START --\x3e<code class="language-sql"><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> booklist <span class="token keyword">ADD</span> pub VARCHAR2<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> booklist <span class="token keyword">MODIFY</span> inprice NUMBER<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> booklist <span class="token keyword">DROP</span> <span class="token keyword">COLUMN</span> makeyear<span class="token punctuation">;</span></code>\x3c!-- HTML_TAG_END --\x3e</pre></div></div> <h2 >2. DML 명령어 : 데이터를 조작하는 명령어</h2> <h3 >1. <code>SELECT</code> : 테이블의 데이터를 조회하는 명령어</h3> <pre class="language-sql">\x3c!-- HTML_TAG_START --\x3e<code class="language-sql"><span class="token keyword">SELECT</span> 필드명<span class="token number">1</span><span class="token punctuation">,</span> 필드명<span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">FROM</span> 테이블명<span class="token punctuation">;</span></code>\x3c!-- HTML_TAG_END --\x3e</pre> <div class="admonition admonition-info"><div class="admonition-heading" ><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path class="outlined" d="M12,8v0m0,3v5m0-13a9,9 0,1 1-.1,0"></path></svg></span>도서대여점의 도서목록 테이블의 조회</h5></div><div class="admonition-content"><pre class="language-sql">\x3c!-- HTML_TAG_START --\x3e<code class="language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> booklist<span class="token punctuation">;</span></code>\x3c!-- HTML_TAG_END --\x3e</pre></div></div> <h3 >2. <code>INSERT</code> : 테이블에 데이터를 삽입하는 명령어</h3> <h3 >3. <code>UPDATE</code> : 테이블의 데이터를 수정하는 명령어</h3> <h3 >4. <code>DELETE</code> : 테이블의 데이터를 삭제하는 명령어</h3> <h2 >3. DCL 명령어 : 데이터베이스에 대한 접근을 제어하는 명령어</h2> <h3 >1. <code>GRANT</code> : 특정 사용자에게 특정 권한을 부여</h3> <h3 >2. <code>REVOKE</code> : 특정 사용자에게 특정 권한을 박탈</h3> <hr> <h1 >시퀀스 (Sequence)</h1> <p >시퀀스는 테이블 내의 중복되지 않는 숫자를 자동으로 생성하는 자동 번호 발생기입니다.\n테이블 생성 후 시퀀스를 따로 만들어야 합니다.</p> <h2 >생성 방법</h2> <p >주로 NUMBER 형식의 기본 키값으로 사용됩니다.</p> <pre class="language-sql">\x3c!-- HTML_TAG_START --\x3e<code class="language-sql"><span class="token keyword">CREATE</span> SEQUENCE 시퀀스명 <span class="token keyword">START</span> <span class="token keyword">WITH</span> 시작값 INCREMENT <span class="token keyword">BY</span> 증가값<span class="token punctuation">;</span></code>\x3c!-- HTML_TAG_END --\x3e</pre> <pre class="language-sql">\x3c!-- HTML_TAG_START --\x3e<code class="language-sql"><span class="token keyword">CREATE</span> SEQUENCE book_seq <span class="token keyword">START</span> <span class="token keyword">WITH</span> <span class="token number">1</span> INCREMENT <span class="token keyword">BY</span> <span class="token number">1</span><span class="token punctuation">;</span></code>\x3c!-- HTML_TAG_END --\x3e</pre> <hr> <h2 >사용 방법</h2> <pre class="language-sql">\x3c!-- HTML_TAG_START --\x3e<code class="language-sql"><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> 테이블명 <span class="token punctuation">(</span>기본키<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span>시퀀스명<span class="token punctuation">.</span>NEXTVAL<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code>\x3c!-- HTML_TAG_END --\x3e</pre> <pre class="language-sql">\x3c!-- HTML_TAG_START --\x3e<code class="language-sql"><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> booklist <span class="token keyword">VALUES</span> <span class="token punctuation">(</span>book_seq<span class="token punctuation">.</span>NEXTVAL<span class="token punctuation">,</span> <span class="token string">\'스프링 부트 3\'</span><span class="token punctuation">,</span> <span class="token number">2024</span><span class="token punctuation">,</span> <span class="token number">21000</span><span class="token punctuation">,</span> <span class="token number">27000</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code>\x3c!-- HTML_TAG_END --\x3e</pre> <hr> <h2 >시퀀스 삭제</h2> <pre class="language-sql">\x3c!-- HTML_TAG_START --\x3e<code class="language-sql"><span class="token keyword">DROP</span> SEQUENCE 시퀀스명<span class="token punctuation">;</span></code>\x3c!-- HTML_TAG_END --\x3e</pre> <pre class="language-sql">\x3c!-- HTML_TAG_START --\x3e<code class="language-sql"><span class="token keyword">DROP</span> SEQUENCE book_seq<span class="token punctuation">;</span></code>\x3c!-- HTML_TAG_END --\x3e</pre> <hr> <h1 >뷰 (View)</h1> <p >뷰는 하나 이상의 테이블로부터 유도된 가상 테이블입니다.\n뷰는 데이터를 저장하지 않지만, 테이블과 같이 사용할 수 있습니다.</p> <h2 >생성 방법</h2> <pre class="language-sql">\x3c!-- HTML_TAG_START --\x3e<code class="language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">VIEW</span> 뷰명 <span class="token keyword">AS</span> <span class="token keyword">SELECT</span> 필드명<span class="token number">1</span><span class="token punctuation">,</span> 필드명<span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">FROM</span> 테이블명 <span class="token keyword">WHERE</span> 조건<span class="token punctuation">;</span></code>\x3c!-- HTML_TAG_END --\x3e</pre> <pre class="language-sql">\x3c!-- HTML_TAG_START --\x3e<code class="language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">VIEW</span> bookview <span class="token keyword">AS</span> <span class="token keyword">SELECT</span> book_num<span class="token punctuation">,</span> subject <span class="token keyword">FROM</span> booklist <span class="token keyword">WHERE</span> makeyear <span class="token operator">></span> <span class="token number">2010</span><span class="token punctuation">;</span></code>\x3c!-- HTML_TAG_END --\x3e</pre> <hr> <h2 >뷰 삭제</h2> <pre class="language-sql">\x3c!-- HTML_TAG_START --\x3e<code class="language-sql"><span class="token keyword">DROP</span> <span class="token keyword">VIEW</span> 뷰명<span class="token punctuation">;</span></code>\x3c!-- HTML_TAG_END --\x3e</pre> <pre class="language-sql">\x3c!-- HTML_TAG_START --\x3e<code class="language-sql"><span class="token keyword">DROP</span> <span class="token keyword">VIEW</span> bookview<span class="token punctuation">;</span></code>\x3c!-- HTML_TAG_END --\x3e</pre> <hr> <div class="admonition admonition-info"><div class="admonition-heading" ><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path class="outlined" d="M12,8v0m0,3v5m0-13a9,9 0,1 1-.1,0"></path></svg></span>예제 테이블 만들기</h5></div><div class="admonition-content"><ul ><li>테이블 이름 : orders1</li> </ul><table ><thead><tr><th>필드 이름</th> <th>자료형</th> <th>제약조건</th></tr></thead> <tbody><tr><td>order_id</td> <td>NUMBER(12,0)</td> <td>기본키 (테이블레벨, 제약명 : pk_order)</td></tr> <tr><td>order_date</td> <td>DATE</td> <td>기본값은 오늘 날짜                      (필드레벨)</td></tr> <tr><td>order_mode</td> <td>VARCHAR2(8)</td> <td>‘direct’와 ‘online’만 입력 가능 (테이블레벨, 제약명 : ck_order_mode)</td></tr> <tr><td>order_status</td> <td>NUMBER(2,0)</td> <td></td></tr> <tr><td>order_total</td> <td>NUMBER(8,2)</td> <td>기본값은 0 (필드레벨)</td></tr> <tr><td>sales_rep_id</td> <td>NUMBER(6,0)</td> <td></td></tr> <tr><td>promotion_id</td> <td>NUMBER(6,0)</td> <td></td></tr></tbody> </table><pre class="language-sql">\x3c!-- HTML_TAG_START --\x3e<code class="language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> orders1 <span class="token punctuation">(</span>\n    order_id NUMBER<span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n    order_date <span class="token keyword">DATE</span> <span class="token keyword">DEFAULT</span> SYSDATE<span class="token punctuation">,</span>\n    order_mode VARCHAR2<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n    order_status NUMBER<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n    order_total NUMBER<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token number">0</span><span class="token punctuation">,</span>\n    customer_id NUMBER<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n    sales_rep_id NUMBER<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n    promotion_id NUMBER<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n    <span class="token keyword">CONSTRAINT</span> pk_order <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>order_id<span class="token punctuation">)</span><span class="token punctuation">,</span>\n    <span class="token keyword">CONSTRAINT</span> ck_order_mode <span class="token keyword">CHECK</span> <span class="token punctuation">(</span>order_mode <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token string">\'direct\'</span><span class="token punctuation">,</span> <span class="token string">\'online\'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n<span class="token punctuation">)</span><span class="token punctuation">;</span></code>\x3c!-- HTML_TAG_END --\x3e</pre><ul ><li>customer_id 필드명을 customer_number 로 변경</li> </ul><pre class="language-sql">\x3c!-- HTML_TAG_START --\x3e<code class="language-sql"><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> orders1 <span class="token keyword">RENAME</span> <span class="token keyword">COLUMN</span> customer_id <span class="token keyword">TO</span> customer_number<span class="token punctuation">;</span></code>\x3c!-- HTML_TAG_END --\x3e</pre><ul ><li>promotion_id 필드의 값은 10000에서 99999 사이의 값만 허용</li> </ul><pre class="language-sql">\x3c!-- HTML_TAG_START --\x3e<code class="language-sql"><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> orders1 <span class="token keyword">ADD</span> <span class="token keyword">CONSTRAINT</span> ck_promotion_id <span class="token keyword">CHECK</span> promotion_id <span class="token operator">>=</span> <span class="token number">10000</span> <span class="token operator">AND</span> promotion_id <span class="token operator">&lt;=</span> <span class="token number">99999</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token comment">-- 혹은 BETWEEN 사용</span>\n<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> orders1 <span class="token keyword">ADD</span> <span class="token keyword">CONSTRAINT</span> ck_promotion_id <span class="token keyword">CHECK</span> <span class="token punctuation">(</span>promotion_id <span class="token operator">BETWEEN</span> <span class="token number">10000</span> <span class="token operator">AND</span> <span class="token number">99999</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code>\x3c!-- HTML_TAG_END --\x3e</pre><ul ><li>orders1 테이블을 orders2로 복사</li> </ul><pre class="language-sql">\x3c!-- HTML_TAG_START --\x3e<code class="language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> orders2 <span class="token keyword">AS</span> <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> orders1<span class="token punctuation">;</span></code>\x3c!-- HTML_TAG_END --\x3e</pre></div></div> <hr> <div class="admonition admonition-info"><div class="admonition-heading" ><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path class="outlined" d="M12,8v0m0,3v5m0-13a9,9 0,1 1-.1,0"></path></svg></span>booklist 테이블에 시퀀스 등록하기</h5></div><div class="admonition-content"><pre class="language-sql">\x3c!-- HTML_TAG_START --\x3e<code class="language-sql"><span class="token keyword">CREATE</span> SEQUENCE book_seq <span class="token keyword">START</span> <span class="token keyword">WITH</span> <span class="token number">1</span> INCREMENT <span class="token keyword">BY</span> <span class="token number">1</span><span class="token punctuation">;</span>\n\n<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> booklist <span class="token keyword">VALUES</span> <span class="token punctuation">(</span>book_seq<span class="token punctuation">.</span>NEXTVAL<span class="token punctuation">,</span> <span class="token string">\'스프링 부트 3 백엔드\'</span><span class="token punctuation">,</span> <span class="token number">2024</span><span class="token punctuation">,</span> <span class="token number">21000</span><span class="token punctuation">,</span> <span class="token number">27000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> booklist <span class="token keyword">VALUES</span> <span class="token punctuation">(</span>book_seq<span class="token punctuation">.</span>NEXTVAL<span class="token punctuation">,</span> <span class="token string">\'코딩 자율학습\'</span><span class="token punctuation">,</span> <span class="token number">2024</span><span class="token punctuation">,</span> <span class="token number">22000</span><span class="token punctuation">,</span> <span class="token number">29700</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> booklist <span class="token keyword">VALUES</span> <span class="token punctuation">(</span>book_seq<span class="token punctuation">.</span>NEXTVAL<span class="token punctuation">,</span> <span class="token string">\'객체 지향의 원리\'</span><span class="token punctuation">,</span> <span class="token number">2024</span><span class="token punctuation">,</span> <span class="token number">15000</span><span class="token punctuation">,</span> <span class="token number">22500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> booklist <span class="token keyword">VALUES</span> <span class="token punctuation">(</span>book_seq<span class="token punctuation">.</span>NEXTVAL<span class="token punctuation">,</span> <span class="token string">\'자바 표준 프로그래밍\'</span><span class="token punctuation">,</span> <span class="token number">2024</span><span class="token punctuation">,</span> <span class="token number">30000</span><span class="token punctuation">,</span> <span class="token number">38700</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code>\x3c!-- HTML_TAG_END --\x3e</pre><ul ><li>시퀀스 최대 증가값을 14까지로 제한</li> </ul><pre class="language-sql">\x3c!-- HTML_TAG_START --\x3e<code class="language-sql"><span class="token keyword">ALTER</span> SEQUENCE book_seq MAXVALUE <span class="token number">14</span><span class="token punctuation">;</span></code>\x3c!-- HTML_TAG_END --\x3e</pre><ul ><li>시퀀스 삭제</li> </ul><pre class="language-sql">\x3c!-- HTML_TAG_START --\x3e<code class="language-sql"><span class="token keyword">DROP</span> SEQUENCE book_seq<span class="token punctuation">;</span></code>\x3c!-- HTML_TAG_END --\x3e</pre><ul ><li>시퀀스 재생성</li> </ul><pre class="language-sql">\x3c!-- HTML_TAG_START --\x3e<code class="language-sql"><span class="token keyword">CREATE</span> SEQUENCE book_seq <span class="token keyword">START</span> <span class="token keyword">WITH</span> <span class="token number">15</span> INCREMENT <span class="token keyword">BY</span> <span class="token number">1</span><span class="token punctuation">;</span></code>\x3c!-- HTML_TAG_END --\x3e</pre><ul ><li>1부터 1씩 증가하는 member_seq, rent_seq 시퀀스 생성</li> </ul><pre class="language-sql">\x3c!-- HTML_TAG_START --\x3e<code class="language-sql"><span class="token keyword">CREATE</span> SEQUENCE member_seq <span class="token keyword">START</span> <span class="token keyword">WITH</span> <span class="token number">1</span> INCREMENT <span class="token keyword">BY</span> <span class="token number">1</span><span class="token punctuation">;</span>\n<span class="token keyword">CREATE</span> SEQUENCE rent_seq <span class="token keyword">START</span> <span class="token keyword">WITH</span> <span class="token number">1</span> INCREMENT <span class="token keyword">BY</span> <span class="token number">1</span><span class="token punctuation">;</span></code>\x3c!-- HTML_TAG_END --\x3e</pre></div></div>',tags:["kdt","sql"]},uses:{params:["permalink"]}}];Promise.all([import("/_app/immutable/entry/start.DIS2B-qI.js"),import("/_app/immutable/entry/app.BeorjYF_.js")]).then(([n,s])=>{n.start(s,a,{node_ids:[0,6],data:b,form:null,error:null})})}</script> </div> </body></html>